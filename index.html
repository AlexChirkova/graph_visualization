<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ–æ–≤</title>
</head>
<body>
    <div class="container">
        <!-- –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ -->
        <div class="toolbar">
            <h2>–ì—Ä–∞—Ñ</h2>

            <div class="toolbar-section">
                <h3>–û–ø–µ—Ä–∞—Ü–∏–∏</h3>
                <button class="btn" id="addVertexBtn" title="–î–æ–±–∞–≤–∏—Ç—å –≤–µ—Ä—à–∏–Ω—É (V)">–î–æ–±–∞–≤–∏—Ç—å –≤–µ—Ä—à–∏–Ω—É</button>
                <button class="btn" id="addEdgeBtn" title="–î–æ–±–∞–≤–∏—Ç—å —Ä–µ–±—Ä–æ (E)">–î–æ–±–∞–≤–∏—Ç—å —Ä–µ–±—Ä–æ</button>
                <button class="btn" id="deleteBtn" title="–£–¥–∞–ª–∏—Ç—å (Del)">–£–¥–∞–ª–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç</button>
                <button class="btn" id="clearBtn" title="–û—á–∏—Å—Ç–∏—Ç—å –≥—Ä–∞—Ñ">–û—á–∏—Å—Ç–∏—Ç—å –≥—Ä–∞—Ñ</button>
            </div>

            <div class="toolbar-section">
                <h3>–ú–∞–∫–µ—Ç</h3>
                <button class="btn" id="forceLayoutBtn">–£–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω—ã–π</button>
                <button class="btn" id="circleLayoutBtn">–ö—Ä—É–≥–ª—ã–π</button>
                <button class="btn" id="gridLayoutBtn">–°–µ—Ç–∫–∞</button>
                <button class="btn" id="treeLayoutBtn">–î–µ—Ä–µ–≤–æ</button>
            </div>

            <div class="toolbar-section">
                <h3>–ê–ª–≥–æ—Ä–∏—Ç–º—ã</h3>
                <button class="btn" id="dijkstraBtn">–ö—Ä–∞—Ç—á–∞–π—à–∏–π –ø—É—Ç—å (–î–µ–π–∫—Å—Ç—Ä–∞)</button>
                <button class="btn" id="bfsBtn">BFS –æ–±—Ö–æ–¥</button>
                <button class="btn" id="dfsBtn">DFS –æ–±—Ö–æ–¥</button>
                <button class="btn" id="componentsBtn">–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–≤—è–∑–Ω–æ—Å—Ç–∏</button>
                <button class="btn" id="cutVertexBtn">–®–∞—Ä–Ω–∏—Ä—ã</button>
                <button class="btn" id="bridgeBtn">–ú–æ—Å—Ç—ã</button>
            </div>

            <div class="toolbar-section">
                <h3>–ú–∞—Ç—Ä–∏—Ü–∞</h3>
                <button class="btn" id="loadMatrixBtn">–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ –º–∞—Ç—Ä–∏—Ü—ã</button>
                <button class="btn" id="saveMatrixBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –º–∞—Ç—Ä–∏—Ü—É</button>
            </div>


            <div class="toolbar-section">
                <h3>–§–∞–π–ª</h3>
                <button class="btn" id="saveBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å JSON</button>
                <button class="btn" id="loadBtn">–ó–∞–≥—Ä—É–∑–∏—Ç—å JSON</button>
                <button class="btn" id="exportBtn">–≠–∫—Å–ø–æ—Ä—Ç PNG</button>
                <input type="file" id="fileInput" accept=".json" class="hidden">
            </div>
        </div>

        <!-- –†–∞–±–æ—á–∞—è –æ–±–ª–∞—Å—Ç—å -->
        <div class="canvas-wrapper">
            <!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å -->
            <div class="top-toolbar">
                <button class="btn" id="zoomInBtn" title="–£–≤–µ–ª–∏—á–∏—Ç—å (Ctrl++)">üîç+</button>
                <button class="btn" id="zoomOutBtn" title="–£–º–µ–Ω—å—à–∏—Ç—å (Ctrl+-)">üîç‚àí</button>
                <button class="btn" id="resetZoomBtn" title="–°–±—Ä–æ—Å –º–∞—Å—à—Ç–∞–±–∞">–°–±—Ä–æ—Å</button>
                <span id="zoomLevel" style="margin-left: auto; color: var(--color-text-secondary); font-size: 12px;">100%</span>
            </div>
            <div id="algorithmStatus"
                style="display:none; padding:4px 12px; font-size:12px; color:#c0152f;">
            </div>

            <!-- Canvas -->
            <canvas id="graphCanvas"></canvas>

            <!-- –°—Ç–∞—Ç—É—Å-–±–∞—Ä -->
            <div class="status-bar">
                <span id="vertexCount">–í–µ—Ä—à–∏–Ω: 0</span>
                <span id="edgeCount">–†—ë–±–µ—Ä: 0</span>
                <span id="mousePos">–ü–æ–∑–∏—Ü–∏—è: ‚Äî</span>
            </div>
        </div>

        <!-- –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å —Å–≤–æ–π—Å—Ç–≤ -->
        <div class="properties-panel">
            <h2 style="margin-top: 0;">–°–≤–æ–π—Å—Ç–≤–∞</h2>

            <div id="noSelection" class="info-box">
                –í—ã–±–µ—Ä–∏—Ç–µ —ç–ª–µ–º–µ–Ω—Ç –≥—Ä–∞—Ñ–∞ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –µ–≥–æ —Å–≤–æ–π—Å—Ç–≤.
            </div>
            
            <div id="vertexProperties" class="hidden">
                <div class="property-group">
                    <label class="property-label">–ú–µ—Ç–∫–∞ –≤–µ—Ä—à–∏–Ω—ã</label>
                    <input type="text" id="vertexLabel" class="form-control" placeholder="A, B, C...">
                </div>

                <div class="property-group">
                    <label class="property-label">–¶–≤–µ—Ç</label>
                    <input type="color" id="vertexColor" class="color-picker" value="#208141">
                </div>

                <div class="property-group">
                    <label class="property-label">–†–∞–¥–∏—É—Å</label>
                    <input type="number" id="vertexRadius" class="form-control" min="10" max="50" value="25">
                </div>
            </div>

            <div id="edgeProperties" class="hidden">
                <div class="property-group">
                    <label class="property-label">–ú–µ—Ç–∫–∞ —Ä–µ–±—Ä–∞</label>
                    <input type="text" id="edgeLabel" class="form-control" placeholder="–í–µ—Å, —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ...">
                </div>

                <div class="property-group">
                    <label class="property-label">–í–µ—Å</label>
                    <input type="number" id="edgeWeight" class="form-control" min="-0" max="100" step="1" value="1">
                </div>

                <div class="property-group">
                    <label class="property-label">–¶–≤–µ—Ç</label>
                    <input type="color" id="edgeColor" class="color-picker" value="#626c7c">
                </div>

                <div class="property-group">
                    <label class="property-label">–¢–æ–ª—â–∏–Ω–∞</label>
                    <input type="number" id="edgeWidth" class="form-control" min="1" max="5" value="2">
                </div>

                <div class="property-group">
                    <label>
                        <input type="checkbox" id="isDirected"> –û—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ
                    </label>
                </div>
            </div>

            <div class="divider"></div>
            <div class="info-box">
                <strong>–°–ø—Ä–∞–≤–∫–∞:</strong><br>
                ‚Ä¢ –õ–µ–≤—ã–π –∫–ª–∏–∫ ‚Äî –≤—ã–±—Ä–∞—Ç—å<br>
                ‚Ä¢ –ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ –Ω–∞ –≤–µ—Ä—à–∏–Ω—É ‚Äî —É–¥–∞–ª–∏—Ç—å<br>
                ‚Ä¢ –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ ‚Äî –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ<br>
                ‚Ä¢ –°–∫—Ä–æ–ª–ª ‚Äî –º–∞—Å—à—Ç–∞–± <br>
                ‚Ä¢ Shift ‚Äî –æ—Ç–∫–ª—é—á–∏—Ç—å –ø–æ–¥—Å–≤–µ—Ç–∫—É –ø–æ—Å–ª–µ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <!--–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—à–∏–Ω—ã-->
     <div id="addVertexModal" class="modal">
        <div class="modal-content">
            <h2>–î–æ–±–∞–≤–∏—Ç—å –≤–µ—Ä—à–∏–Ω—É</h2>
            <div class="form-group">
                <label>–í–≤–µ–¥–∏—Ç–µ –º–µ—Ç–∫—É –≤–µ—Ä—à–∏–Ω—ã:</label>
                <input type="text" id="vertexLabelInput" class="form-control" placeholder="A, B, C..." autofocus>
            </div>
            <div class="modal-buttons">
                <button class="btn" onclick="closeAddVertexModal()">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn primary" onclick="confirmAddVertex()">–î–æ–±–∞–≤–∏—Ç—å</button>
            </div>
        </div>
    </div>
    <!--–î–µ—Ä–µ–≤–æ-->
    <div id="treeModal" class="modal">
        <div class="modal-content">
            <h2>–î–µ—Ä–µ–≤–æ</h2>
            <div class="form-group">
            <label>–í—ã–±–µ—Ä–∏—Ç–µ –≤–µ—Ä—à–∏–Ω—É-–∫–æ—Ä–µ–Ω—å:</label>
            <select id="treeRootVertex" class="form-control"></select>
            </div>
            <div class="modal-buttons">
            <button class="btn" onclick="closeTreeModal()">–û—Ç–º–µ–Ω–∞</button>
            <button class="btn primary" onclick="applyTreeLayout()">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
            </div>
        </div>
    </div>
    <!--–ê–ª–≥–æ—Ä–∏—Ç–º—ã –æ–±—Ö–æ–¥–∞-->
    <div id="dijkstraModal" class="modal">
        <div class="modal-content">
            <h2>–ö—Ä–∞—Ç—á–∞–π—à–∏–π –ø—É—Ç—å (–î–µ–π–∫—Å—Ç—Ä–∞)</h2>
            <div class="form-group">
                <label>–°—Ç–∞—Ä—Ç–æ–≤–∞—è –≤–µ—Ä—à–∏–Ω–∞:</label>
                <select id="startVertex" class="form-control"></select>
            </div>
            <div class="form-group">
                <label>–ö–æ–Ω–µ—á–Ω–∞—è –≤–µ—Ä—à–∏–Ω–∞:</label>
                <select id="endVertex" class="form-control"></select>
            </div>
            <div class="form-group">
                <label>–†–µ–∂–∏–º:</label>
                <select id="djModeSelect" class="form-control">
                    <option value="space">–®–∞–≥ –ø–æ –ø—Ä–æ–±–µ–ª—É</option>
                    <option value="auto">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ —Ç–∞–π–º–µ—Ä—É</option>
                </select>
                </div>
                <div class="form-group">
                <label>–ò–Ω—Ç–µ—Ä–≤–∞–ª (—Å–µ–∫):</label>
                <input type="number" id="djDelayInput" class="form-control"
                        min="0.1" step="0.1" value="1">
                </div>
            <div class="modal-buttons">
                <button class="btn" onclick="closeDijkstraModal()">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn primary" onclick="startDijkstraVisualization()">–ù–∞–π—Ç–∏ –ø—É—Ç—å</button>
            </div>
        </div>
    </div>
    <div id="bfsModal" class="modal">
        <div class="modal-content">
            <h2>BFS –æ–±—Ö–æ–¥</h2>
            <div class="form-group">
                <label>–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∞—Ä—Ç–æ–≤—É—é –≤–µ—Ä—à–∏–Ω—É:</label>
                <select id="bfsStartVertex" class="form-control"></select>
            </div>
            <div class="form-group">
                <label>–†–µ–∂–∏–º:</label>
                <select id="bfsModeSelect" class="form-control">
                    <option value="space">–®–∞–≥ –ø–æ –ø—Ä–æ–±–µ–ª—É</option>
                    <option value="auto">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ —Ç–∞–π–º–µ—Ä—É</option>
                </select>
                </div>
                <div class="form-group">
                <label>–ò–Ω—Ç–µ—Ä–≤–∞–ª (—Å–µ–∫—É–Ω–¥—ã, –¥–ª—è –∞–≤—Ç–æ):</label>
                <input type="number" id="bfsDelayInput" class="form-control"
                        min="0.1" step="0.1" value="1">
                </div>
            <div class="modal-buttons">
                <button class="btn" onclick="closeBfsModal()">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn primary" onclick="startBfsVisualization()">–ù–∞—á–∞—Ç—å –æ–±—Ö–æ–¥</button>
            </div>
        </div>
    </div>
    <div id="dfsModal" class="modal">
        <div class="modal-content">
            <h2>DFS –æ–±—Ö–æ–¥</h2>
            <div class="form-group">
                <label>–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∞—Ä—Ç–æ–≤—É—é –≤–µ—Ä—à–∏–Ω—É:</label>
                <select id="dfsStartVertex" class="form-control"></select>
            </div>
            <div class="form-group">
                <label>–†–µ–∂–∏–º:</label>
                <select id="dfsModeSelect" class="form-control">
                    <option value="space">–®–∞–≥ –ø–æ –ø—Ä–æ–±–µ–ª—É</option>
                    <option value="auto">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ —Ç–∞–π–º–µ—Ä—É</option>
                </select>
                </div>
                <div class="form-group">
                <label>–ò–Ω—Ç–µ—Ä–≤–∞–ª (—Å–µ–∫):</label>
                <input type="number" id="dfsDelayInput" class="form-control"
                        min="0.1" step="0.1" value="1">
                </div>
            <div class="modal-buttons">
                <button class="btn" onclick="closeDfsModal()">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn primary" onclick="startDfsVisualization()">–ù–∞—á–∞—Ç—å –æ–±—Ö–æ–¥</button>
            </div>
        </div>
    </div>
    <!--–°–æ–∑–¥–∞–Ω–∏–µ –º–∞—Ç—Ä–∏—Ü—ã –≤–µ—Å–æ–≤-->
    <div id="matrixModal" class="modal">
        <div class="modal-content" style="max-width: 500px;">
            <h2>–ó–∞–≥—Ä—É–∑–∏—Ç—å –≥—Ä–∞—Ñ –∏–∑ –º–∞—Ç—Ä–∏—Ü—ã –≤–µ—Å–æ–≤</h2>
            <div class="form-group">
                <label>–í–≤–µ–¥–∏—Ç–µ –º–∞—Ç—Ä–∏—Ü—É –≤–µ—Å–æ–≤ (—Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏: –ø—Ä–æ–±–µ–ª/—Ç–∞–±—É–ª—è—Ü–∏—è, —Å—Ç—Ä–æ–∫–∏ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–≤–æ–¥ —Å—Ç—Ä–æ–∫–∏):</label>
                <textarea id="matrixInput" class="form-control" style="height: 250px; font-family: monospace;" placeholder="1 0 5 0&#10;0 2 3 4&#10;5 3 0 1&#10;0 4 1 0"></textarea>
            </div>
            <div class="form-group">
                <label>–ú–µ—Ç–∫–∏ –≤–µ—Ä—à–∏–Ω (—Ä–∞–∑–¥–µ–ª–µ–Ω—ã –∑–∞–ø—è—Ç—ã–º–∏):</label>
                <input type="text" id="vertexLabelsInput" class="form-control" placeholder="A, B, C, D">
            </div>
            <div class="form-group">
                <label>
                    <input type="checkbox" id="isDirectedMatrixInput"> –û—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ
                </label>
            </div>
            <div class="modal-buttons">
                <button class="btn" onclick="closeMatrixModal()">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn primary" onclick="confirmLoadMatrix()">–ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
            </div>
        </div>
    </div>


    <script src="script.js"></script>
</body>
</html>
